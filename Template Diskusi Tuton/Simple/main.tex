%==========%
% PREAMBLE %
%==========%

\documentclass[a4paper, 12pt]{article}

% Margin & Geometry
\usepackage[
    left=3cm,
    right=3cm,
    top=3cm,
    bottom=3cm
]{geometry}

% Linking & Reffering
\usepackage[hidelinks]{hyperref}

% Daftar Pustaka & APA 6
\usepackage{apacite}
\bibliographystyle{apacite}

% Bahasa APA 6
%\input{preset/APA-bahasa-indonesia.tex}
\input{preset/APA-bahasa-campuran.tex}

% Bahasa & Istilah
\usepackage[indonesian]{babel}

% Grafis
\usepackage{graphicx}
\usepackage{xcolor}

% Matematika / Math Mode
\usepackage{amsmath,amsthm,amssymb}
%\usepackage{MnSymbol}
\usepackage{xfrac}
\usepackage{unicode-math}
\allowdisplaybreaks

% Float
\usepackage{float}

% Tabel
\usepackage{tabularray}

\SetTblrStyle{caption}{font=\vspace{-\baselineskip}\singlespacing\small}
\SetTblrStyle{capcont}{font=\vspace{-\baselineskip}\singlespacing\small}
\SetTblrStyle{note}{font=\small}
\SetTblrStyle{remark}{font=\small}

%========================%
% FONT & FONT SELECTIONS %
%========================%

\usepackage[T1]{fontenc}
\usepackage{fontspec}

% Serif/Main Font --------------------------- %
\setmainfont{Times New Roman}[Ligatures=Rare] % TNR + Ligature
%\setmainfont{TeX Gyre Termes}                % Alternatif Mirip TNR
%\setmainfont{XITS}                           % Alternatif Mirip TNR

% Sans-Serif ---------------------------------%
\setsansfont{Noto Sans}[Scale=MatchLowercase] % Noto Sans
%\setsansfont{Calibri}[Scale=MatchUppercase]  % Calibri

% Monospace ------------------------------------ % 
%\setmonofont{Courier New}[Scale=MatchLowercase] % Courier New (Windows < 10)
%\setmonofont{Cascadia Code Light}[              % Cascadia Code (Windows >= 10)
%    BoldFont={Cascadia Code Bold},
%    ItalicFont={Cascadia Code Light Italic},
%    BoldItalicFont={Cascadia Code Bold Italic},
%    Scale=MatchLowercase
%]
\setmonofont{Fira Code Light}[                  % Fira Code (must installed)
    BoldFont={Fira Code Medium},
    Contextuals=Alternate,
    Scale=MatchLowercase
]

% Font Matematika -----
\setmathfont{XITS Math}

%============%
% CODE BLOCK %
%============%

\usepackage{listings}
\usepackage{lstfiracode}

\lstdefinelanguage{JavaScript}{ % Setting utk JavaScript karena tdk support
    keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
    ndkeywords={class, export, boolean, throw, implements, import, this},
    sensitive=false,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    morestring=[b]',
    morestring=[b]"
}

\lstset{
    style=FiraCodeStyle,
    basicstyle=\ttfamily,
    numberstyle=\footnotesize\color{gray},
    numberbychapter=false,
    captionpos=t,
    breaklines=true,
    frame={top|bottom},
    showstringspaces=false,
    commentstyle=\itshape\color{monokai-comment},
    keywordstyle=\bfseries\color{monokai-purple},
    keywordstyle={[2]{\itshape\bfseries\color{monokai-purple}}},
    keywordstyle={[3]{\itshape\bfseries\color{monokai-blue}}},
    ndkeywordstyle=\itshape\bfseries\color{monokai-orange},
    stringstyle=\color{monokai-green},
    identifierstyle=\color{black},
}

%============================%
% FORMATTING TEKS & PARAGRAF %
%============================%

% Parskip Paragraf
\usepackage[indent=1.24cm]{parskip}
%\setlength{\parskip}{.5\baselineskip}

% Line Spacing
\usepackage{setspace}

% Keterangan
\usepackage[font=small]{caption}

%============================%
% FORMATTING TEKS & PARAGRAF %
%============================%

\usepackage{titlesec}

% PILIH SATU
% Alphanumeric Numbering
\input{preset/alphanumeric-numbering-heading.tex}
% Multilevel Numbering
%\input{preset/multilevel-numbering-heading.tex}

% Spacing Heading
\titlespacing*{\section}{0pt}{*4}{*3}
\titlespacing*{\subsection}{0pt}{*2}{*1.5}
\titlespacing*{\subsubsection}{0pt}{*2}{*1.5}
\titlespacing*{\paragraph}{0pt}{*1.5}{.5em}
\titlespacing*{\subparagraph}{0pt}{*1.5}{.5em}

% List
\usepackage{enumitem}

\setlist[enumerate]{leftmargin=\parindent}
\setlist[itemize]{leftmargin=\parindent}

\newlist{essaylist}{enumerate}{2}
\setlist[essaylist,1]{
    leftmargin=\parindent, 
    labelwidth=\parindent, 
    labelsep=0pt, 
    align=left, 
    label=\arabic*.
    }
\setlist[essaylist,2]{
    leftmargin=0pt, 
    labelwidth=\parindent, 
    labelsep=0pt, 
    align=left, 
    label=\arabic{essaylisti}. \alph*.
    }

%============%
% PAGE STYLE %
%============%

\usepackage{fancyhdr}
\usepackage{lastpage}

\fancypagestyle{head-info}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \setlength{\topmargin}{-1.5cm}
    \setlength{\headsep}{1.5cm}
    \fancyhead[R]{
        \begin{tblr}{colspec={r l}, vline{2}={1}{solid, gray}, cells={valign=m}, colsep=14pt, columns={fg=gray}}
            {\textit{Tutorial Online} | \textit{Sesi \sesiKe} \\ \textit{\KodeMataKuliah} | \textit{\kodeKelas} | \textit{\namaMataKuliah}} & {\thepage\ / \pageref{LastPage}}
        \end{tblr} \hspace*{-2.6cm}
    }
}
\fancypagestyle{plain}[head-info]{}

% Load Variabel
\input{variable.tex}

%============+&
% ISI DOKUMEN &
%=============&

\begin{document}
    
    % Line Spacing 1,5
    \onehalfspacing
    
    % Load Bagian
    \input{section/cover.tex}
    \pagestyle{head-info}
    \input{section/soal.tex}
    \input{section/jawaban.tex}
    
    % Daftar Pustaka
    \nocite{*}
    \bibliography{reference}
    
    % Compile Mark
    %\vfill
    %{\footnotesize\noindent Di-\textit{compile} dengan \LaTeX\ pada \tanggalLengkap}
    
\end{document}